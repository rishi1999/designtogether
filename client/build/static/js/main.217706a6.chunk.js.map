{"version":3,"sources":["App.js","index.js"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handlePenColorChange","bind","assertThisInitialized","state","ready","connectionAttempts","penColor","connect","axios","get","then","response","setState","data","catch","error","console","setTimeout","disp","size","react_default","a","createElement","App_Grid","react_loading_default","type","width","style","fontSize","color","className","id","App_Palette","onPenColorChange","Component","Grid","_this2","createTable","table","i","children","j","push","App_Space","key","iValue","jValue","bgColor","colorArr","grid","_this3","timerID","setInterval","tick","clearInterval","_this4","Space","_this5","handleMouseOver","post","cStyle","backgroundColor","height","onMouseOver","Palette","_this6","validateColor","handleKeyPress","str","image","document","e","target","value","onKeyPress","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.217706a6.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactLoading from 'react-loading';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handlePenColorChange = this.handlePenColorChange.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tready: false,\r\n\t\t\tconnectionAttempts: 0,\r\n\t\t\tpenColor: \"black\"\r\n\t\t};\r\n\r\n\t\tconst connect = () => {\r\n\t\t\taxios.get(/*'http://localhost:5000/size'*/ 'https://nicolewang.localtunnel.me/size')\r\n\t\t\t.then(response => this.setState(response.data))\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\tthis.setState({connectionAttempts: this.state.connectionAttempts + 1});\r\n\t\t\t\tif (this.state.connectionAttempts < 3) {\r\n\t\t\t\t\tconnect();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconnect();\r\n\r\n\t\tsetTimeout(\r\n\t\t\t() => this.setState({ready: true}),\r\n\t\t\t2500\r\n\t\t\t);\r\n\t}\r\n\r\n\thandlePenColorChange(penColor) {\r\n\t\tthis.setState({penColor: penColor});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet disp;\r\n\r\n\t\tif (this.state.ready && this.state.size) {\r\n\t\t\tdisp = <Grid size={this.state.size} penColor={this.state.penColor}/>;\r\n\t\t} else if (this.state.connectionAttempts < 3) {\r\n\t\t\tdisp = <ReactLoading type=\"bubbles\" width=\"40%\"/>;\r\n\t\t} else {\r\n\t\t\tdisp = <p style={{fontSize:\"2em\", color:\"#ff7f7f\"}}>-- failed to connect to server --</p>;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t<center>\r\n\t\t\t<section id=\"grid-section\">\r\n\t\t\t{disp}\r\n\t\t\t</section>\r\n\t\t\t<Palette onPenColorChange={this.handlePenColorChange}/>\r\n\t\t\t</center>\r\n\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nclass Grid extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// initializes client-side grid to all white\r\n\t\tlet grid = [];\r\n\t\tfor (let i = 0; i < this.props.size; i++) {\r\n\t\t\tgrid.push([]);\r\n\t\t\tfor (let j = 0; j < this.props.size; j++) {\r\n\t\t\t\tgrid[i].push(\"#ffffff\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tcolorArr: grid\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.timerID = setInterval(\r\n\t\t\t() => this.tick(),\r\n\t\t\t100\r\n\t\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.timerID);\r\n\t}\r\n\r\n\ttick() {\r\n\t\taxios.get(/*'http://localhost:5000/'*/ 'https://nicolewang.localtunnel.me')\r\n\t\t.then(response => this.setState(response.data))\r\n\t\t.catch(error => console.error(error));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<table>\r\n\t\t\t<tbody>\r\n\t\t\t{this.createTable()}\r\n\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t);\r\n\t}\r\n\r\n\tcreateTable = () => {\r\n\t\tlet table = [];\r\n\r\n\t\tfor (let i = 0; i < this.props.size; i++) {\r\n\t\t\tlet children = [];\r\n\r\n\t\t\tfor (let j = 0; j < this.props.size; j++) {\r\n\t\t\t\tchildren.push(<Space key={i + \",\" + j + \",\" + this.props.size} iValue={i} jValue={j} size={this.props.size} penColor={this.props.penColor} bgColor={(this.state.colorArr)[i][j]}/>);\r\n\t\t\t}\r\n\r\n\t\t\ttable.push(<tr key={i + \",\" + this.props.size}>{children}</tr>)\r\n\t\t}\r\n\r\n\t\treturn table;\r\n\t};\r\n}\r\n\r\nclass Space extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleMouseOver = this.handleMouseOver.bind(this);\r\n\t}\r\n\r\n\thandleMouseOver() {\r\n\t\taxios.post(/*'http://localhost:5000/space'*/ 'https://nicolewang.localtunnel.me/space', {\r\n\t\t\tiValue: this.props.iValue,\r\n\t\t\tjValue: this.props.jValue,\r\n\t\t\tsize: this.props.size,\r\n\t\t\tpenColor: this.props.penColor\r\n\t\t})\r\n\t\t.then(response => {} /*console.log(response)*/)\r\n\t\t.catch(error => console.error(error));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst cStyle = {\r\n\t\t\tbackgroundColor: this.props.bgColor,\r\n\t\t\twidth: 80/this.props.size + \"vw\",\r\n\t\t\theight: 70/this.props.size + \"vh\"\r\n\t\t};\r\n\t\treturn <td style={cStyle} onMouseOver={this.handleMouseOver}></td>;\r\n\t}\r\n}\r\n\r\nclass Palette extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.validateColor = this.validateColor.bind(this);\r\n\t\tthis.handleKeyPress = this.handleKeyPress.bind(this);\r\n\t}\r\n\r\n\tvalidateColor(str) {\r\n\t\tif (str === \"\") { return false; }\r\n\t\tif (str === \"black\") { return true; }\r\n\t\tconst image = document.createElement(\"img\");\r\n\t\timage.style.color = \"black\";\r\n\t\timage.style.color = str;\r\n\t\treturn image.style.color !== \"black\";\r\n\t\tdocument.removeChild(image);\r\n\t}\r\n\r\n\thandleKeyPress(e) {\r\n\t\tif (e.key === \"Enter\" && this.validateColor(e.target.value)) {\r\n\t\t\tthis.props.onPenColorChange(e.target.value);\r\n\t\t\te.target.value = \"\";\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <input type=\"text\" onKeyPress={this.handleKeyPress}/>;\r\n\t}\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}