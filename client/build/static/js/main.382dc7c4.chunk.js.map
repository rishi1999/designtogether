{"version":3,"sources":["App.js","index.js"],"names":["serverURL","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","init","bind","assertThisInitialized","reset","handlePenColorChange","state","ready","connectionAttempts","penColor","_this2","connect","axios","get","then","response","setState","data","catch","error","console","setTimeout","disp","react_default","a","createElement","App_ServerInput","onServerSubmission","size","App_Grid","serverDownResponse","react_loading_default","type","width","style","fontSize","color","className","id","App_Palette","onPenColorChange","Component","ServerInput","_this3","handleKeyPress","e","key","target","value","Fragment","onKeyPress","Grid","_this4","createTable","table","i","children","j","push","App_Space","iValue","jValue","bgColor","colorArr","grid","_this5","timerID","setInterval","tick","clearInterval","_this6","Space","_this7","handleMouseOver","post","cStyle","backgroundColor","height","onMouseOver","Palette","_this8","validateColor","str","image","document","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.382dc7c4.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactLoading from 'react-loading';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nvar serverURL = \"\"; /* http://localhost:5000 */\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.init = this.init.bind(this);\r\n\t\tthis.reset = this.reset.bind(this);\r\n\t\tthis.handlePenColorChange = this.handlePenColorChange.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tready: false,\r\n\t\t\tconnectionAttempts: 0,\r\n\t\t\tpenColor: \"black\"\r\n\t\t};\r\n\t}\r\n\r\n\tinit() {\r\n\t\tconst connect = () => {\r\n\t\t\taxios.get(serverURL + '/size')\r\n\t\t\t.then(response => this.setState(response.data))\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\tthis.setState({connectionAttempts: this.state.connectionAttempts + 1});\r\n\t\t\t\tif (this.state.connectionAttempts < 3) {\r\n\t\t\t\t\tconnect();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconnect();\r\n\r\n\t\tsetTimeout(\r\n\t\t\t() => this.setState({ready: true}),\r\n\t\t\t2500\r\n\t\t\t);\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.setState({ready: false, connectionAttempts: 0}, this.init);\r\n\t}\r\n\r\n\thandlePenColorChange(penColor) {\r\n\t\tthis.setState({penColor: penColor});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet disp;\r\n\r\n\t\tif (serverURL === \"\") {\r\n\t\t\tdisp = <ServerInput onServerSubmission={this.init}/>;\r\n\t\t} else if (this.state.ready && this.state.size) {\r\n\t\t\tdisp = <Grid size={this.state.size} penColor={this.state.penColor} serverDownResponse={this.reset}/>;\r\n\t\t} else if (this.state.connectionAttempts < 3) {\r\n\t\t\tdisp = <ReactLoading type=\"bubbles\" width=\"40%\"/>;\r\n\t\t} else {\r\n\t\t\tdisp = <p style={{fontSize:\"2em\", color:\"#ff7f7f\"}}>-- failed to connect to server --</p>;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t<center>\r\n\t\t\t<section id=\"gridSection\">\r\n\t\t\t{disp}\r\n\t\t\t</section>\r\n\t\t\t{serverURL !== \"\" &&\r\n\t\t\t<Palette penColor={this.state.penColor} onPenColorChange={this.handlePenColorChange}/>\r\n\t\t}\r\n\t\t</center>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ServerInput extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleKeyPress = this.handleKeyPress.bind(this);\r\n\t}\r\n\r\n\thandleKeyPress(e) {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tserverURL = e.target.value;\r\n\t\t\tthis.props.onServerSubmission();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t<p style={{fontSize: \"4vw\"}}>Enter server URL:</p>\r\n\t\t\t<input id=\"serverInput\" type=\"text\" onKeyPress={this.handleKeyPress}/>\r\n\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nclass Grid extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// initializes client-side grid to all white\r\n\t\tlet grid = [];\r\n\t\tfor (let i = 0; i < this.props.size; i++) {\r\n\t\t\tgrid.push([]);\r\n\t\t\tfor (let j = 0; j < this.props.size; j++) {\r\n\t\t\t\tgrid[i].push(\"#ffffff\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tcolorArr: grid\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.timerID = setInterval(\r\n\t\t\t() => this.tick(),\r\n\t\t\t100\r\n\t\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.timerID);\r\n\t}\r\n\r\n\ttick() {\r\n\t\taxios.get(serverURL)\r\n\t\t.then(response => this.setState(response.data))\r\n\t\t.catch(error => {\r\n\t\t\tif (this.timerID !== null) {\r\n\t\t\t\tclearInterval(this.timerID);\r\n\t\t\t\tthis.timerID = null;\r\n\t\t\t\tthis.props.serverDownResponse();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<table>\r\n\t\t\t<tbody>\r\n\t\t\t{this.createTable()}\r\n\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t);\r\n\t}\r\n\r\n\tcreateTable = () => {\r\n\t\tlet table = [];\r\n\r\n\t\tfor (let i = 0; i < this.props.size; i++) {\r\n\t\t\tlet children = [];\r\n\r\n\t\t\tfor (let j = 0; j < this.props.size; j++) {\r\n\t\t\t\tchildren.push(<Space key={i + \",\" + j + \",\" + this.props.size} iValue={i} jValue={j} size={this.props.size} penColor={this.props.penColor} bgColor={(this.state.colorArr)[i][j]}/>);\r\n\t\t\t}\r\n\r\n\t\t\ttable.push(<tr key={i + \",\" + this.props.size}>{children}</tr>)\r\n\t\t}\r\n\r\n\t\treturn table;\r\n\t};\r\n}\r\n\r\nclass Space extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleMouseOver = this.handleMouseOver.bind(this);\r\n\t}\r\n\r\n\thandleMouseOver() {\r\n\t\taxios.post(serverURL + '/space', {\r\n\t\t\tiValue: this.props.iValue,\r\n\t\t\tjValue: this.props.jValue,\r\n\t\t\tsize: this.props.size,\r\n\t\t\tpenColor: this.props.penColor\r\n\t\t})\r\n\t\t.then(response => {} /*console.log(response)*/)\r\n\t\t.catch(error => {} /*console.error(error)*/);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst cStyle = {\r\n\t\t\tbackgroundColor: this.props.bgColor,\r\n\t\t\twidth: 80/this.props.size + \"vw\",\r\n\t\t\theight: 70/this.props.size + \"vh\"\r\n\t\t};\r\n\t\treturn <td style={cStyle} onMouseOver={this.handleMouseOver}></td>;\r\n\t}\r\n}\r\n\r\nclass Palette extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.validateColor = this.validateColor.bind(this);\r\n\t\tthis.handleKeyPress = this.handleKeyPress.bind(this);\r\n\t}\r\n\r\n\tvalidateColor(str) {\r\n\t\tif (str === \"\") { return false; }\r\n\t\tif (str === \"black\") { return true; }\r\n\t\tlet returnVal;\r\n\t\tconst image = document.createElement(\"img\");\r\n\t\timage.style.color = \"black\";\r\n\t\timage.style.color = str;\r\n\t\treturnVal = image.style.color !== \"black\";\r\n\t\t// image.parentNode.removeChild(image);\r\n\t\treturn returnVal;\r\n\t}\r\n\r\n\thandleKeyPress(e) {\r\n\t\tif (e.key === \"Enter\" && this.validateColor(e.target.value)) {\r\n\t\t\tthis.props.onPenColorChange(e.target.value);\r\n\t\t\te.target.value = \"\";\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t<input id=\"paletteInput\" type=\"text\" onKeyPress={this.handleKeyPress}/>\r\n\t\t\t<span className=\"dot\" style={{backgroundColor: this.props.penColor}}/>\r\n\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}