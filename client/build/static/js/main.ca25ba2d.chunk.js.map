{"version":3,"sources":["App.js","index.js"],"names":["serverURL","resetAttempted","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","init","bind","assertThisInitialized","reset","handlePenColorChange","state","ready","connectionAttempts","penColor","_this2","connect","axios","get","then","response","setState","data","catch","error","setTimeout","size","disp","react_default","a","createElement","App_ServerInput","onServerSubmission","App_Grid","serverDownResponse","style","fontSize","color","react_loading_default","type","width","className","id","App_Palette","onPenColorChange","Component","ServerInput","_this3","handleKeyPress","e","key","target","value","Fragment","onKeyPress","Grid","_this4","createTable","table","i","children","j","push","App_Space","iValue","jValue","bgColor","colorArr","grid","_this5","timerID","setInterval","tick","clearInterval","_this6","Space","_this7","handleMouseOver","post","cStyle","backgroundColor","height","onMouseOver","Palette","_this8","validateColor","str","image","document","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.ca25ba2d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactLoading from 'react-loading';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nvar serverURL = \"\";\r\nvar resetAttempted = false;\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.init = this.init.bind(this);\r\n\t\tthis.reset = this.reset.bind(this);\r\n\t\tthis.handlePenColorChange = this.handlePenColorChange.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tready: false,\r\n\t\t\tconnectionAttempts: 0,\r\n\t\t\tpenColor: \"black\"\r\n\t\t};\r\n\t}\r\n\r\n\tinit() {\r\n\t\tconst connect = () => {\r\n\t\t\taxios.get(serverURL + '/size')\r\n\t\t\t.then(response => this.setState(response.data))\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setState({connectionAttempts: this.state.connectionAttempts + 1});\r\n\t\t\t\tif (this.state.connectionAttempts < 3) {\r\n\t\t\t\t\tconnect();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconnect();\r\n\r\n\t\tsetTimeout(() => this.setState({ready: true}), 2500);\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.setState({ready: false, connectionAttempts: 0, size: null}, this.init);\r\n\t}\r\n\r\n\thandlePenColorChange(penColor) {\r\n\t\tthis.setState({penColor: penColor});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet disp;\r\n\r\n\t\tif (serverURL === \"\") {\r\n\t\t\tdisp = <ServerInput onServerSubmission={this.init}/>;\r\n\t\t} else if (this.state.ready && this.state.size) {\r\n\t\t\tresetAttempted = false;\r\n\t\t\tdisp = <Grid size={this.state.size} penColor={this.state.penColor} serverDownResponse={this.reset}/>;\r\n\t\t} else if (this.state.ready && this.state.connectionAttempts > 2) {\r\n\t\t\tdisp = <p style={{fontSize:\"2em\", color:\"#ff6060\"}}>-- server error --</p>;\r\n\t\t} else {\r\n\t\t\tdisp = <ReactLoading type=\"bubbles\" width=\"40%\"/>;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t<center>\r\n\t\t\t<section id=\"gridSection\">\r\n\t\t\t{disp}\r\n\t\t\t</section>\r\n\t\t\t{serverURL !== \"\" &&\r\n\t\t\t<Palette penColor={this.state.penColor} onPenColorChange={this.handlePenColorChange}/>\r\n\t\t}\r\n\t\t</center>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ServerInput extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleKeyPress = this.handleKeyPress.bind(this);\r\n\t}\r\n\r\n\thandleKeyPress(e) {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tserverURL = e.target.value;\r\n\t\t\tthis.props.onServerSubmission();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t<p style={{fontSize: \"4vw\"}}>Enter server URL:</p>\r\n\t\t\t<input id=\"serverInput\" type=\"text\" onKeyPress={this.handleKeyPress}/>\r\n\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nclass Grid extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// initializes client-side grid to all white\r\n\t\tlet grid = [];\r\n\t\tfor (let i = 0; i < this.props.size; i++) {\r\n\t\t\tgrid.push([]);\r\n\t\t\tfor (let j = 0; j < this.props.size; j++) {\r\n\t\t\t\tgrid[i].push(\"#ffffff\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tcolorArr: grid\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.timerID = setInterval(\r\n\t\t\t() => this.tick(),\r\n\t\t\t100\r\n\t\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.timerID);\r\n\t}\r\n\r\n\ttick() {\r\n\t\taxios.get(serverURL)\r\n\t\t.then(response => this.setState(response.data))\r\n\t\t.catch(error => {\r\n\t\t\tif (!resetAttempted) {\r\n\t\t\t\tresetAttempted = true;\r\n\t\t\t\tthis.props.serverDownResponse();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<table>\r\n\t\t\t<tbody>\r\n\t\t\t{this.createTable()}\r\n\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t);\r\n\t}\r\n\r\n\tcreateTable = () => {\r\n\t\tlet table = [];\r\n\r\n\t\tfor (let i = 0; i < this.props.size; i++) {\r\n\t\t\tlet children = [];\r\n\r\n\t\t\tfor (let j = 0; j < this.props.size; j++) {\r\n\t\t\t\tchildren.push(<Space key={i + \",\" + j + \",\" + this.props.size} iValue={i} jValue={j} size={this.props.size} penColor={this.props.penColor} bgColor={(this.state.colorArr)[i][j]}/>);\r\n\t\t\t}\r\n\r\n\t\t\ttable.push(<tr key={i + \",\" + this.props.size}>{children}</tr>)\r\n\t\t}\r\n\r\n\t\treturn table;\r\n\t};\r\n}\r\n\r\nclass Space extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleMouseOver = this.handleMouseOver.bind(this);\r\n\t}\r\n\r\n\thandleMouseOver() {\r\n\t\taxios.post(serverURL + '/space', {\r\n\t\t\tiValue: this.props.iValue,\r\n\t\t\tjValue: this.props.jValue,\r\n\t\t\tsize: this.props.size,\r\n\t\t\tpenColor: this.props.penColor\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst cStyle = {\r\n\t\t\tbackgroundColor: this.props.bgColor,\r\n\t\t\twidth: 80/this.props.size + \"vw\",\r\n\t\t\theight: 70/this.props.size + \"vh\"\r\n\t\t};\r\n\t\treturn <td style={cStyle} onMouseOver={this.handleMouseOver}></td>;\r\n\t}\r\n}\r\n\r\nclass Palette extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.validateColor = this.validateColor.bind(this);\r\n\t\tthis.handleKeyPress = this.handleKeyPress.bind(this);\r\n\t}\r\n\r\n\tvalidateColor(str) {\r\n\t\tif (str === \"\") { return false; }\r\n\t\tif (str === \"black\") { return true; }\r\n\t\tlet returnVal;\r\n\t\tconst image = document.createElement(\"img\");\r\n\t\timage.style.color = \"black\";\r\n\t\timage.style.color = str;\r\n\t\treturnVal = image.style.color !== \"black\";\r\n\t\treturn returnVal;\r\n\t}\r\n\r\n\thandleKeyPress(e) {\r\n\t\tif (e.key === \"Enter\" && this.validateColor(e.target.value)) {\r\n\t\t\tthis.props.onPenColorChange(e.target.value);\r\n\t\t\te.target.value = \"\";\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t<input id=\"paletteInput\" type=\"text\" onKeyPress={this.handleKeyPress}/>\r\n\t\t\t<span className=\"dot\" style={{backgroundColor: this.props.penColor}}/>\r\n\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}