(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(46)},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),s=n.n(o),i=n(3),c=n(4),l=n(6),u=n(5),p=n(7),h=n(1),b=n(18),d=n.n(b),v=n(9),f=n.n(v),m=(n(44),""),y=!1,O=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).init=n.init.bind(Object(h.a)(Object(h.a)(n))),n.reset=n.reset.bind(Object(h.a)(Object(h.a)(n))),n.handlePenColorChange=n.handlePenColorChange.bind(Object(h.a)(Object(h.a)(n))),n.state={ready:!1,connectionAttempts:0,penColor:"black"},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"init",value:function(){var e=this;!function t(){f.a.get(m+"/size").then(function(t){return e.setState(t.data)}).catch(function(n){e.setState({connectionAttempts:e.state.connectionAttempts+1}),e.state.connectionAttempts<3&&t()})}(),setTimeout(function(){return e.setState({ready:!0})},2500)}},{key:"reset",value:function(){this.setState({ready:!1,connectionAttempts:0,size:null},this.init)}},{key:"handlePenColorChange",value:function(e){this.setState({penColor:e})}},{key:"render",value:function(){var e;return""===m?e=r.a.createElement(j,{onServerSubmission:this.init}):this.state.ready&&this.state.size?(y=!1,e=r.a.createElement(C,{size:this.state.size,penColor:this.state.penColor,serverDownResponse:this.reset})):e=this.state.ready&&this.state.connectionAttempts>2?r.a.createElement("p",{style:{fontSize:"2em",color:"#ff6060"}},"-- server error --"):r.a.createElement(d.a,{type:"bubbles",width:"40%"}),r.a.createElement("div",{className:"App"},r.a.createElement("center",null,r.a.createElement("section",{id:"gridSection"},e),""!==m&&r.a.createElement(E,{penColor:this.state.penColor,onPenColorChange:this.handlePenColorChange})))}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=n.handleKeyPress.bind(Object(h.a)(Object(h.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(m=e.target.value,this.props.onServerSubmission())}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{fontSize:"4vw"}},"Enter server URL:"),r.a.createElement("input",{id:"serverInput",type:"text",onKeyPress:this.handleKeyPress}))}}]),t}(a.Component),C=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).createTable=function(){for(var e=[],t=0;t<n.props.size;t++){for(var a=[],o=0;o<n.props.size;o++)a.push(r.a.createElement(k,{key:t+","+o+","+n.props.size,iValue:t,jValue:o,size:n.props.size,penColor:n.props.penColor,bgColor:n.state.colorArr[t][o]}));e.push(r.a.createElement("tr",{key:t+","+n.props.size},a))}return e};for(var a=[],o=0;o<n.props.size;o++){a.push([]);for(var s=0;s<n.props.size;s++)a[o].push("#ffffff")}return n.state={colorArr:a},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this;f.a.get(m).then(function(t){return e.setState(t.data)}).catch(function(t){y||(y=!0,e.props.serverDownResponse())})}},{key:"render",value:function(){return r.a.createElement("table",null,r.a.createElement("tbody",null,this.createTable()))}}]),t}(a.Component),k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleMouseOver=n.handleMouseOver.bind(Object(h.a)(Object(h.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleMouseOver",value:function(){f.a.post(m+"/space",{iValue:this.props.iValue,jValue:this.props.jValue,size:this.props.size,penColor:this.props.penColor})}},{key:"render",value:function(){var e={backgroundColor:this.props.bgColor,width:80/this.props.size+"vw",height:70/this.props.size+"vh"};return r.a.createElement("td",{style:e,onMouseOver:this.handleMouseOver})}}]),t}(a.Component),E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).validateColor=n.validateColor.bind(Object(h.a)(Object(h.a)(n))),n.handleKeyPress=n.handleKeyPress.bind(Object(h.a)(Object(h.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"validateColor",value:function(e){if(""===e)return!1;if("black"===e)return!0;var t=document.createElement("img");return t.style.color="black",t.style.color=e,"black"!==t.style.color}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.validateColor(e.target.value)&&(this.props.onPenColorChange(e.target.value),e.target.value="")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"paletteInput",type:"text",onKeyPress:this.handleKeyPress}),r.a.createElement("span",{className:"dot",style:{backgroundColor:this.props.penColor}}))}}]),t}(a.Component),g=O;s.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.ca25ba2d.chunk.js.map